__1\. 架构设计：代理驱动的本地工作流__ 本项目采用极简的__脚本化工作流架构__，主要分为三层：

__触发层 \(Trigger Layer\)：__ VS Code 环境下的 Cline 扩展。用户在这里输入指令。

__执行层 \(Execution Layer\)：__ 编写好的本地 Python 或 Node\.js 脚本集。Cline 负责调用这些脚本并传入参数。

__推理层 \(Inference Layer\)：__ DeepSeek 大模型云端 API。负责处理逻辑推理和数据格式化。

__2\. 核心模块规划 \(Module Breakdown\)__

__模块 A：API 调度与通信模块 \(api\_client\.py 或 api\_client\.js\)__

__职责：__ 封装 DeepSeek 的 API 请求，处理 API Key 鉴权、超时重连以及流式/非流式响应的接收。

__模块 B：Prompt 模板引擎 \(prompt\_manager\)__

__职责：__ 存储预设的系统提示词（System Prompts）。例如定义好“你是一个游戏数值策划，请输出严格的 JSON”之类的系统指令，与用户的输入进行拼接。

__模块 C：数据校验与文件写入模块 \(file\_handler\)__

__职责：__ 接收 API 返回的内容，使用正则表达式或 JSON 解析库提取纯 JSON 数据；验证无误后，按照游戏项目的标准目录树写入本地磁盘。

__3\. 数据流转时序 \(Data Flow Sequence\)__

1\.用户在 VS Code 中对 Cline 说：“帮我生成 5 个不同属性的史莱姆怪物配置。”

2\.Cline 分析指令，在终端执行预设脚本：python generate\_monster\.py \-\-count 5 \-\-type slime

3\.脚本组装 Prompt，向 DeepSeek API 发起请求。

4\.DeepSeek 返回包含 5 个史莱姆数据的 JSON 字符串。

5\.脚本解析并校验 JSON，随后在本地 \./data/monsters/ 目录下生成 slimes\.json。

6\.Cline 在对话框中向用户报告：“生成完毕，文件已保存在指定目录。”

